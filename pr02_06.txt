mysql> /*-Dueñas Jauregui Jenaro
         -Navarro Martínez Erick Israel
         -Rojas Lagunas Kevin Antonio
         -Serrano Álvarez Ricardo  */

mysql> PROMPT [\D] (\d) >
PROMPT set to '[\D] (\d) >'
[Thu Sep 25 12:37:46 2025] (none) > CREATE DATABASE seguros_06;
[Thu Sep 25 12:37:46 2025] (none) > USE seguros_06;
[Thu Sep 25 12:37:46 2025] (carteraSeguros_06) >source C:/Users/Antonio Rojas/Documents/Programacion/BasesDeDatos/pr02_06.sql
Query OK, 2 rows affected (0.02 sec)

Query OK, 1 row affected (0.00 sec)

Database changed
Query OK, 0 rows affected (0.04 sec)

+------------+--------------+------+-----+---------+----------------+
| Field      | Type         | Null | Key | Default | Extra          |
+------------+--------------+------+-----+---------+----------------+
| cliente_id | int unsigned | NO   | PRI | NULL    | auto_increment |
| nombre     | varchar(60)  | NO   | UNI | NULL    |                |
+------------+--------------+------+-----+---------+----------------+
2 rows in set (0.00 sec)

+---------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table   | Create Table                                                                                                                                                                                                                                     |
+---------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| cliente | CREATE TABLE `cliente` (
  `cliente_id` int unsigned NOT NULL AUTO_INCREMENT,
  `nombre` varchar(60) NOT NULL,
  PRIMARY KEY (`cliente_id`),
  UNIQUE KEY `nombre` (`nombre`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+---------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

Query OK, 0 rows affected (0.01 sec)

+-----------+--------------+------+-----+---------+----------------+
| Field     | Type         | Null | Key | Default | Extra          |
+-----------+--------------+------+-----+---------+----------------+
| poliza_id | int unsigned | NO   | PRI | NULL    | auto_increment |
| ramo      | char(2)      | NO   |     | NULL    |                |
| prima     | int unsigned | YES  |     | NULL    |                |
+-----------+--------------+------+-----+---------+----------------+
3 rows in set (0.00 sec)

+--------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table  | Create Table                                                                                                                                                                                                                               |
+--------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| poliza | CREATE TABLE `poliza` (
  `poliza_id` int unsigned NOT NULL AUTO_INCREMENT,
  `ramo` char(2) NOT NULL,
  `prima` int unsigned DEFAULT NULL,
  PRIMARY KEY (`poliza_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+--------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

Query OK, 0 rows affected (0.01 sec)
Records: 0  Duplicates: 0  Warnings: 0

Query OK, 0 rows affected (0.03 sec)
Records: 0  Duplicates: 0  Warnings: 0

Query OK, 0 rows affected (0.03 sec)
Records: 0  Duplicates: 0  Warnings: 0

+------------+--------------+------+-----+---------+----------------+
| Field      | Type         | Null | Key | Default | Extra          |
+------------+--------------+------+-----+---------+----------------+
| cliente_id | int unsigned | NO   | MUL | NULL    |                |
| poliza_id  | int unsigned | NO   | PRI | NULL    | auto_increment |
| ramo       | char(2)      | NO   |     | NULL    |                |
| prima      | int unsigned | YES  |     | NULL    |                |
| numero     | varchar(20)  | NO   | UNI | NULL    |                |
+------------+--------------+------+-----+---------+----------------+
5 rows in set (0.00 sec)

+--------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table  | Create Table                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
+--------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| poliza | CREATE TABLE `poliza` (
  `cliente_id` int unsigned NOT NULL,
  `poliza_id` int unsigned NOT NULL AUTO_INCREMENT,
  `ramo` char(2) NOT NULL,
  `prima` int unsigned DEFAULT NULL,
  `numero` varchar(20) NOT NULL,
  PRIMARY KEY (`poliza_id`),
  UNIQUE KEY `numero` (`numero`),
  KEY `fk_poliza_cliente` (`cliente_id`),
  CONSTRAINT `fk_poliza_cliente` FOREIGN KEY (`cliente_id`) REFERENCES `cliente` (`cliente_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+--------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

Query OK, 5 rows affected (0.00 sec)
Records: 5  Duplicates: 0  Warnings: 0

+------------+--------------------+
| cliente_id | nombre             |
+------------+--------------------+
|          1 | Ana Pérez          |
|          2 | Luis Martínez      |
|          3 | Vanessa Hernández  |
|          4 | Carlos Ramírez     |
|          5 | María López        |
+------------+--------------------+
5 rows in set (0.00 sec)

Query OK, 6 rows affected (0.00 sec)
Records: 6  Duplicates: 0  Warnings: 0

+------------+-----------+------+-------+-----------+
| cliente_id | poliza_id | ramo | prima | numero    |
+------------+-----------+------+-------+-----------+
|          1 |         1 | AU   |    18 | AU-001-AP |
|          1 |         2 | VI   |    42 | VI-002-AP |
|          3 |         3 | GM   |    25 | GM-003-SH |
|          3 |         4 | AU   |    15 | AU-004-SH |
|          3 |         5 | HN   |     9 | HN-005-SH |
|          5 |         6 | VI   |    38 | VI-006-ML |
+------------+-----------+------+-------+-----------+
6 rows in set (0.00 sec)

Query OK, 1 row affected, 1 warning (0.00 sec)

Database changed
Query OK, 0 rows affected, 1 warning (0.00 sec)

+--------+-------------+------+-----+---------+-------+
| Field  | Type        | Null | Key | Default | Extra |
+--------+-------------+------+-----+---------+-------+
| nombre | varchar(40) | NO   | PRI | NULL    |       |
| f_nac  | date        | NO   |     | NULL    |       |
| pais   | varchar(30) | NO   |     | NULL    |       |
| f_def  | date        | YES  |     | NULL    |       |
| genero | varchar(15) | NO   |     | NULL    |       |
+--------+-------------+------+-----+---------+-------+
5 rows in set (0.00 sec)

+-----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table     | Create Table                                                                                                                                                                                                                                                                  |
+-----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| asegurado | CREATE TABLE `asegurado` (
  `nombre` varchar(40) NOT NULL,
  `f_nac` date NOT NULL,
  `pais` varchar(30) NOT NULL,
  `f_def` date DEFAULT NULL,
  `genero` varchar(15) NOT NULL,
  PRIMARY KEY (`nombre`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+-----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

Query OK, 0 rows affected, 1 warning (0.00 sec)

+--------------+-------------+------+-----+---------+-------+
| Field        | Type        | Null | Key | Default | Extra |
+--------------+-------------+------+-----+---------+-------+
| nombre       | varchar(40) | NO   | PRI | NULL    |       |
| asegurado    | varchar(40) | NO   | MUL | NULL    |       |
| anio_emision | int         | NO   |     | NULL    |       |
+--------------+-------------+------+-----+---------+-------+
3 rows in set (0.00 sec)

+--------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table  | Create Table                                                                                                                                                                                                                                                                                                                                       |
+--------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| poliza | CREATE TABLE `poliza` (
  `nombre` varchar(40) NOT NULL,
  `asegurado` varchar(40) NOT NULL,
  `anio_emision` int NOT NULL,
  PRIMARY KEY (`nombre`),
  KEY `asegurado` (`asegurado`),
  CONSTRAINT `poliza_ibfk_1` FOREIGN KEY (`asegurado`) REFERENCES `asegurado` (`nombre`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+--------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

Query OK, 0 rows affected, 1 warning (0.00 sec)

+------------+---------------+------+-----+---------+-------+
| Field      | Type          | Null | Key | Default | Extra |
+------------+---------------+------+-----+---------+-------+
| folio      | int           | NO   | PRI | NULL    |       |
| anio_cobro | int           | NO   |     | NULL    |       |
| monto      | decimal(10,2) | NO   |     | NULL    |       |
| tipo       | varchar(10)   | NO   |     | NULL    |       |
+------------+---------------+------+-----+---------+-------+
4 rows in set (0.00 sec)

+--------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table  | Create Table                                                                                                                                                                                                                             |
+--------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| recibo | CREATE TABLE `recibo` (
  `folio` int NOT NULL,
  `anio_cobro` int NOT NULL,
  `monto` decimal(10,2) NOT NULL,
  `tipo` varchar(10) NOT NULL,
  PRIMARY KEY (`folio`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+--------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

Query OK, 0 rows affected, 1 warning (0.00 sec)

+----------------+-------------+------+-----+---------+-------+
| Field          | Type        | Null | Key | Default | Extra |
+----------------+-------------+------+-----+---------+-------+
| folio          | int         | NO   | PRI | NULL    |       |
| poliza         | varchar(40) | NO   | PRI | NULL    |       |
| cajero         | varchar(40) | NO   |     | NULL    |       |
| monto_aplicado | int         | NO   |     | NULL    |       |
+----------------+-------------+------+-----+---------+-------+
4 rows in set (0.00 sec)

+------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Table      | Create Table                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
+------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| aplicacion | CREATE TABLE `aplicacion` (
  `folio` int NOT NULL,
  `poliza` varchar(40) NOT NULL,
  `cajero` varchar(40) NOT NULL,
  `monto_aplicado` int NOT NULL,
  PRIMARY KEY (`folio`,`poliza`),
  KEY `poliza` (`poliza`),
  CONSTRAINT `aplicacion_ibfk_1` FOREIGN KEY (`folio`) REFERENCES `recibo` (`folio`),
  CONSTRAINT `aplicacion_ibfk_2` FOREIGN KEY (`poliza`) REFERENCES `poliza` (`nombre`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci |
+------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)

Query OK, 0 rows affected, 7 warnings (0.00 sec)
Records: 7  Duplicates: 7  Warnings: 7

+-----------------+------------+--------+-------+-----------+
| nombre          | f_nac      | pais   | f_def | genero    |
+-----------------+------------+--------+-------+-----------+
| Daniela Ayala   | 1992-06-03 | Mexico | NULL  | Femenino  |
| Héctor Barbosa  | 1987-05-14 | Mexico | NULL  | Masculino |
| Juan García     | 1985-03-21 | Mexico | NULL  | Masculino |
| Laura Benítez   | 1990-11-30 | Mexico | NULL  | Femenino  |
| Pablo Montero   | 1989-04-01 | Mexico | NULL  | Masculino |
| Pedro Ruiz      | 1978-06-01 | Mexico | NULL  | Masculino |
| Sofía Rach      | 1985-07-15 | Mexico | NULL  | Femenino  |
| Vanessa Rach    | 1983-02-28 | Mexico | NULL  | Femenino  |
+-----------------+------------+--------+-------+-----------+
8 rows in set (0.00 sec)

Query OK, 0 rows affected, 1 warning (0.00 sec)

Query OK, 0 rows affected, 11 warnings (0.00 sec)
Records: 11  Duplicates: 11  Warnings: 11

+-------------------+-----------------+--------------+
| nombre            | asegurado       | anio_emision |
+-------------------+-----------------+--------------+
| Auto Básica       | Juan García     |         2010 |
| Auto Plus         | Sofía Rach      |         2018 |
| Auto Premium      | Pedro Ruiz      |         2008 |
| GMM Familiar      | Daniela Ayala   |         2019 |
| GMM Plan Oro      | Sofía Rach      |         2013 |
| Hogar Clásico     | Laura Benítez   |         2020 |
| Hogar Confort     | Sofía Rach      |         2011 |
| Terceros Ampliada | Juan García     |         2022 |
| Vida Dotal        | Pedro Ruiz      |         2014 |
| Vida Integral     | Pablo Montero   |         2015 |
| Vida Tradicional  | Héctor Barbosa  |         2012 |
+-------------------+-----------------+--------------+
11 rows in set (0.00 sec)

Query OK, 0 rows affected, 9 warnings (0.00 sec)
Records: 9  Duplicates: 9  Warnings: 9

+--------+------------+---------+------+
| folio  | anio_cobro | monto   | tipo |
+--------+------------+---------+------+
|    519 |       2022 | 1050.00 | CD   |
|   5615 |       2021 | 1375.00 | CD   |
|   5801 |       2020 | 1815.00 | PP   |
|  44944 |       2023 | 1500.00 | CD   |
|  45818 |       2023 | 1800.00 | CD   |
|  47901 |       2021 | 3500.00 | CD   |
|  80264 |       2022 | 1250.00 | CD   |
| 198304 |       2019 |  800.00 | PP   |
| 415839 |       2021 | 1625.00 | CD   |
+--------+------------+---------+------+
9 rows in set (0.00 sec)

Query OK, 0 rows affected, 11 warnings (0.00 sec)
Records: 11  Duplicates: 11  Warnings: 11

+--------+-------------------+-----------------+----------------+
| folio  | poliza            | cajero          | monto_aplicado |
+--------+-------------------+-----------------+----------------+
|    519 | GMM Plan Oro      | Sucursal Centro |            655 |
|    519 | Hogar Confort     | Sucursal Centro |            824 |
|    519 | Terceros Ampliada | Sucursal Centro |            828 |
|   5615 | Auto Básica       | Kiosko Reforma  |            740 |
|   5615 | Auto Premium      | Kiosko Reforma  |            705 |
|  45818 | GMM Plan Oro      | App Movil       |            505 |
|  47901 | Auto Plus         | Sucursal Norte  |           2051 |
|  80264 | Vida Integral     | App Movil       |            440 |
| 198304 | Auto Básica       | Call Center     |           1302 |
| 198304 | Auto Plus         | Call Center     |           1502 |
| 198304 | Hogar Confort     | Call Center     |            916 |
+--------+-------------------+-----------------+----------------+
11 rows in set (0.00 sec)

[Thu Sep 25 19:07:45 2025] (carteraSeguros_06) >notee
